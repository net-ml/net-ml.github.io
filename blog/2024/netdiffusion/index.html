<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Introducing NetDiffusion: A New Direction in Network Data Augmentation | NetML </title> <meta name="author" content=" "> <meta name="description" content="A place where to collect all our ideas about the world of Machine Learning and Networking. "> <meta name="keywords" content="Networks, Systems, Machine Learning"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://netml.io/blog/2024/netdiffusion/"> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> NetML </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">Blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/people/">People </a> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Introducing NetDiffusion: A New Direction in Network Data Augmentation</h1> <p class="post-meta"> March 18, 2024 • Xi (Chase) Jiang </p> <p class="post-tags"> <a href="/blog/2024"> <i class="fa-solid fa-calendar fa-sm"></i> 2024 </a>   ·   <a href="/blog/tag/machine-learning"> <i class="fa-solid fa-hashtag fa-sm"></i> machine-learning</a>   <a href="/blog/tag/network-data"> <i class="fa-solid fa-hashtag fa-sm"></i> network-data</a>   <a href="/blog/tag/synthetic-data"> <i class="fa-solid fa-hashtag fa-sm"></i> synthetic-data</a>     ·   <a href="/blog/category/research"> <i class="fa-solid fa-tag fa-sm"></i> research</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <p>See our open-sourced repo for implementation details: https://github.com/noise-lab/NetDiffusion_Generator</p> <p>In the world of machine learning (ML) for network management and security, the scarcity of high-quality, labeled network datasets has always been a major bottleneck. Traditional methods for generating synthetic network data, while useful, have struggled to produce the level of detail and realism required for effective ML model training. This is where our latest research comes into play. Our paper, “NetDiffusion: Network Data Augmentation Through Protocol-Constrained Traffic Generation,” presents a groundbreaking tool designed to bridge this gap by using diffusion models to generate synthetic network traffic that is not only high in fidelity but also adheres to protocol specifications. For more details regarding the tool, please refer to our full paper (https://dl.acm.org/doi/pdf/10.1145/3639037).</p> <figure align="center"> <figcaption>NetDiffusion Pipeline:</figcaption> <img src="https://github.com/noise-lab/NetDiffusion_Generator/assets/47127634/804756f9-156e-4796-bea6-00d5d7bb1706" alt="Screenshot 2024-02-29 at 3 41 29 PM" width="1241"> </figure> <h1 id="why-netdiffusion">Why NetDiffusion?</h1> <p>Our motivation stems from the limitations of current synthetic data generation methods, which primarily focus on aggregated statistics or selected packet attributes. These methods often fall short, particularly when training ML models that rely on detailed features only available in packet traces. NetDiffusion addresses these challenges head-on. It leverages a finely-tuned, controlled variant of a Stable Diffusion model to create synthetic network traffic that closely mimics real-world data in both statistical behavior and compliance with network protocols.</p> <h1 id="how-netdiffusion-works">How NetDiffusion Works</h1> <p>NetDiffusion operates in three key stages:</p> <p><strong>Network Traffic to Image Conversion</strong>: We convert raw network traffic into image-based representations. This innovative approach allows us to leverage the advanced capabilities of diffusion models, which excel in generating high-quality images from textual descriptions.</p> <div align="center"> <img src="https://github.com/net-ml/net-ml.github.io/assets/47127634/f6103b57-5c93-4847-8c72-9c9a41b58b70" alt="Screenshot 2024-02-29 at 3 41 29 PM" width="600"> </div> <p><strong>Fine-Tuning Diffusion Model for Network Traffic Generation</strong>: By fine-tuning a diffusion model on network traffic images, NetDiffusion can generate synthetic data that preserves the intricate patterns found in real network traffic.</p> <div align="center"> <img src="https://github.com/net-ml/net-ml.github.io/assets/47127634/90af5e42-e229-4ffb-a013-2800264fa8e2" alt="Screenshot 2024-02-29 at 3 41 29 PM" width="800"> </div> <p><strong>Ensuring Protocol Compliance</strong>: A significant contribution of NetDiffusion is its ability to generate synthetic data that adheres to inter and intra-packet network protocol rules through post-generation heuristic. This ensures that the generated traffic can be readily used for a wide range of network analysis and testing tasks beyond ML applications.</p> <div align="center"> <img src="https://github.com/net-ml/net-ml.github.io/assets/47127634/438e4c0f-1b89-4d36-a775-9611fbb41781" alt="Screenshot 2024-02-29 at 3 41 29 PM" width="700"> </div> <h1 id="evaluation-and-impact">Evaluation and Impact</h1> <p>We evaluate the quality of NetDiffusion-synthetic traces by using it to generate network flows for ten different applications and services. Our evaluation demonstrates that NetDiffusion-generated data achieves higher statistical similarity to real data compared to existing state-of-the-art methods.</p> <div align="center"> <img src="https://github.com/net-ml/net-ml.github.io/assets/47127634/6999e559-bec7-4e82-b593-fa4806864eb9" alt="Screenshot 2024-02-29 at 3 41 29 PM" width="500"> </div> <p>We also look at the scenarios where the training of ML models is done using a mixture of both real and synthetic data, and across all scenarios, ML models that use our synthetic data is able to outperform those that use other synthetic data.</p> <div align="center"> <img src="https://github.com/net-ml/net-ml.github.io/assets/47127634/cc610302-af90-40ee-8ee0-6c4d87a89922" alt="Screenshot 2024-02-29 at 3 41 29 PM" width="800"> </div> <p>Lastly, we try to use synthetic data to solve the problem of class imbalance where we populate underrepresented classes using the synthetic data points. we observe notable ML accuracy improvement when we carry out class balancing using NetDiffusion data, particularly for classes that are underrepresented such as Facebook, Meet, and Zoom in this case.</p> <div align="center"> <img src="https://github.com/net-ml/net-ml.github.io/assets/47127634/2afd2e9e-878e-48fd-a7e4-fee725dbf28d" alt="Screenshot 2024-02-29 at 3 41 29 PM" width="500"> </div> <p>Furthermore, the generated synthetic network traffic supports traditional network analysis and testing tasks, showcasing NetDiffusion’s versatility and potential to serve a broad spectrum of network research and development needs.</p> <div align="center"> <img src="https://github.com/net-ml/net-ml.github.io/assets/47127634/f76240c2-a54f-421f-b057-c15f3e87dea3" alt="Screenshot 2024-02-29 at 3 41 29 PM" width="500"> </div> <h1 id="open-source-and-future-directions">Open Source and Future Directions</h1> <p>We are committed to contributing to the research community and have made our pipeline available on GitHub (https://github.com/noise-lab/NetDiffusion_Generator/tree/main). Looking ahead, we see numerous opportunities to enhance NetDiffusion, including exploring more sophisticated conditioning techniques for diffusion models and extending its applicability to even more diverse network scenarios.</p> <h1 id="concluding-thoughts">Concluding Thoughts</h1> <p>NetDiffusion represents a significant step forward in network data augmentation. By addressing the critical need for detailed and protocol-compliant synthetic network data, it opens new avenues for research and development in network management, security, and beyond. We are excited about the potential of NetDiffusion and look forward to its adoption and evolution within the research community.</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/netdiff/">NetDiffusion will appear at ACM Sigmetrics 2024</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2022/traffic-refinery/">Traffic Refinery will appear at ACM SIGMETRICS 2022</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/amir/">AMIR will appear at ACM Ubicomp 2023</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/leaf/">LEAF will appear at ACM CoNEXT 2023</a> </li> </div> </div> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/assets/js/common.js?4a129fbf39254905f505c7246e641eaf"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>